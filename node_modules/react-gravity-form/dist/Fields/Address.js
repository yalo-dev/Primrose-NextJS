"use strict";var _interopRequireWildcard3=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _interopRequireWildcard2=_interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard3(require("react")),_reactSelect=_interopRequireDefault(require("react-select")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel")),_default=function(a){function b(){Promise.resolve().then(function(){return(0,_interopRequireWildcard2["default"])(require("i18n-iso-countries"))}).then(function(a){a.registerLocale(require("i18n-iso-countries/langs/".concat(o?o:"en",".json")));var b=Object.values(a.getNames(o?o:"en",{select:"official"})).map(function(b){return b}).sort(function(c,a){return c.localeCompare(a)});G(b)})["catch"](function(a){return console.log(a)})}var c=a.field,d=a.value,e=a.validationMessage,f=a.touched,g=a.setTouched,h=a.hideField,i=a.updateForm,j=a.styledComponents,k=a.error,l=a.unsetError,m=a.setFocusClass,n=a.cssClass,o=a.language,p=(0,_objectWithoutProperties2["default"])(a,["field","value","validationMessage","touched","setTouched","hideField","updateForm","styledComponents","error","unsetError","setFocusClass","cssClass","language"]),q=c.id,r=c.formId,s=c.type,t=c.label,u=c.placeholder,v=c.isRequired,w=c.inputs,x=c.maxLength,y=c.description,z=c.descriptionPlacement,A=c.labelPlacement,B=c.width,C=c.customName,D=(0,_react.useState)([]),E=(0,_slicedToArray2["default"])(D,2),F=E[0],G=E[1],H=j||!1,I=H.Input,J=void 0===I?"input":I,K=H.Label,L=void 0===K?"label":K,M=H.Box,N=void 0===M?"div":M,O=H.ReactSelect,P=O||_reactSelect["default"],Q=function(a){var b=a&&a.target?a:{target:{value:a}};i(b,c)};return(0,_react.useEffect)(function(){b()},[]),_react["default"].createElement(N,{width:B,className:e&&f||k?"form-field error ".concat(n):"form-field ".concat(n),style:{display:h?"none":void 0}},null===w||void 0===w?void 0:w.map(function(a,b){return!a.isHidden&&_react["default"].createElement("div",{className:s,key:a.id},_react["default"].createElement(_InputLabel["default"],{formId:r,id:a.id,label:a.label,labelPlacement:A,isRequired:v,styledComponent:j}),"above"===z&&y&&_react["default"].createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:y}}),5===b&&F?_react["default"].createElement(P,{onChange:function onChange(b){Q(b),l(a.id)},onBlur:function onBlur(b){i(b,c),g(a.id),m(""!==d)},onFocus:function onFocus(){return m(!0)},options:F.map(function(a){return{label:a,value:a}})},F.map(function(a){return _react["default"].createElement("option",{value:a},a)})):_react["default"].createElement(J,{id:"input_".concat(r,"_").concat(a.id),key:a.id,name:C||"input_".concat(a.id),type:s,value:d?d[a.id]:"",placeholder:a.placeholder,maxLength:x,required:v,onChange:function onChange(b){i(b,c,a.id),l(a.id)},onBlur:function onBlur(b){i(b,c),g(a.id),m(""!==d)},onFocus:function onFocus(){return m(!0)},"aria-label":a.label,"aria-describedby":"error_".concat(r,"_").concat(a.id),"aria-invalid":!!e&&f||!!k}),"above"!==z&&y&&_react["default"].createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:y}}),(e&&f||k)&&_react["default"].createElement("span",{className:"error-message",id:"error_".concat(r,"_").concat(q)},e||k))}))};exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GaWVsZHMvQWRkcmVzcy5qc3giXSwibmFtZXMiOlsiZ2V0Q291bnRyaWVzIiwidGhlbiIsImNvdW50cmllcyIsInJlZ2lzdGVyTG9jYWxlIiwicmVxdWlyZSIsImxhbmd1YWdlIiwibmFtZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJnZXROYW1lcyIsInNlbGVjdCIsIm1hcCIsImEiLCJzb3J0IiwiYiIsImxvY2FsZUNvbXBhcmUiLCJzZXROYW1lcyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImZpZWxkIiwidmFsdWUiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInRvdWNoZWQiLCJzZXRUb3VjaGVkIiwiaGlkZUZpZWxkIiwidXBkYXRlRm9ybSIsInN0eWxlZENvbXBvbmVudHMiLCJ1bnNldEVycm9yIiwic2V0Rm9jdXNDbGFzcyIsImNzc0NsYXNzIiwicHJvcHMiLCJpZCIsImZvcm1JZCIsInR5cGUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwiaXNSZXF1aXJlZCIsImlucHV0cyIsIm1heExlbmd0aCIsImRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb25QbGFjZW1lbnQiLCJsYWJlbFBsYWNlbWVudCIsIndpZHRoIiwiY3VzdG9tTmFtZSIsImNvdW50cnlOYW1lcyIsIklucHV0IiwiTGFiZWwiLCJCb3giLCJSZWFjdFNlbGVjdCIsIlJTZWxlY3QiLCJTZWxlY3QiLCJoYW5kbGVDaGFuZ2UiLCJvcHRpb24iLCJldmVudCIsInRhcmdldCIsImRpc3BsYXkiLCJpbnB1dCIsImtleSIsImlzSGlkZGVuIiwiX19odG1sIiwiaXRlbSIsImNvdW50cnkiXSwibWFwcGluZ3MiOiJ1dkJBSWUsV0FlVCxDQW1CSixRQUFTQSxDQUFBQSxDQUFULEVBQXdCLENBRXRCLHdGQUFPLG9CQUFQLEtBQ0dDLElBREgsQ0FDUSxTQUFBQyxDQUFTLENBQUksQ0FDakJBLENBQVMsQ0FBQ0MsY0FBVixDQUNFQyxPQUFPLG9DQUE2QkMsQ0FBUSxDQUFHQSxDQUFILENBQWMsSUFB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QUN0QixLQW5CcEIsQ0FvQkUsbUNBQTJCRixDQUEzQixhQUFxQ3dCLENBQUssQ0FBQ3pCLEVBQTNDLENBcEJGLENBcUJFLGVBQWUsQ0FBQyxDQUFDVixDQUFGLEVBQXVCQyxDQUF4QixFQUFvQyxDQUFDLENBQUNOLENBckJ0RCxFQXBDSixDQTRENEIsT0FBekIsR0FBQXdCLENBQW9CLEVBQWdCRCxDQUFwQyxFQUNDLHVDQUNFLFNBQVMsQ0FBQyxhQURaLENBRUUsdUJBQXVCLENBQUUsQ0FBRW9CLE1BQU0sQ0FBRXBCLENBQVYsQ0FGM0IsRUE3REosQ0FrRUcsQ0FBRWxCLENBQWlCLEVBQUlDLENBQXRCLEVBQWtDTixDQUFuQyxHQUNDLHdDQUFNLFNBQVMsQ0FBQyxlQUFoQixDQUFnQyxFQUFFLGlCQUFXZ0IsQ0FBWCxhQUFxQkQsQ0FBckIsQ0FBbEMsRUFDR1YsQ0FBaUIsRUFBSUwsQ0FEeEIsQ0FuRUosQ0FGSixDQURELENBVEgsQ0F3RkgsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU2VsZWN0IGZyb20gXCJyZWFjdC1zZWxlY3RcIjtcbmltcG9ydCBJbnB1dExhYmVsIGZyb20gXCIuLi9Gb3JtRWxlbWVudHMvSW5wdXRMYWJlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCAoe1xuICBmaWVsZCxcbiAgdmFsdWUsXG4gIHZhbGlkYXRpb25NZXNzYWdlLFxuICB0b3VjaGVkLFxuICBzZXRUb3VjaGVkLFxuICBoaWRlRmllbGQsXG4gIHVwZGF0ZUZvcm0sXG4gIHN0eWxlZENvbXBvbmVudHMsXG4gIGVycm9yLFxuICB1bnNldEVycm9yLFxuICBzZXRGb2N1c0NsYXNzLFxuICBjc3NDbGFzcyxcbiAgbGFuZ3VhZ2UsXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBmb3JtSWQsXG4gICAgdHlwZSxcbiAgICBsYWJlbCxcbiAgICBwbGFjZWhvbGRlcixcbiAgICBpc1JlcXVpcmVkLFxuICAgIGlucHV0cyxcbiAgICBtYXhMZW5ndGgsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGVzY3JpcHRpb25QbGFjZW1lbnQsXG4gICAgbGFiZWxQbGFjZW1lbnQsXG4gICAgd2lkdGgsXG4gICAgY3VzdG9tTmFtZSxcbiAgfSA9IGZpZWxkO1xuXG4gIGNvbnN0IFtjb3VudHJ5TmFtZXMsIHNldE5hbWVzXSA9IHVzZVN0YXRlKFtdKTtcblxuICBmdW5jdGlvbiBnZXRDb3VudHJpZXMoKSB7XG4gICAgLy8gRHluYW1pYyBpbXBvcnRcbiAgICBpbXBvcnQoXCJpMThuLWlzby1jb3VudHJpZXNcIilcbiAgICAgIC50aGVuKGNvdW50cmllcyA9PiB7XG4gICAgICAgIGNvdW50cmllcy5yZWdpc3RlckxvY2FsZShcbiAgICAgICAgICByZXF1aXJlKGBpMThuLWlzby1jb3VudHJpZXMvbGFuZ3MvJHtsYW5ndWFnZSA/IGxhbmd1YWdlIDogXCJlblwifS5qc29uYClcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC52YWx1ZXMoXG4gICAgICAgICAgY291bnRyaWVzLmdldE5hbWVzKGxhbmd1YWdlID8gbGFuZ3VhZ2UgOiBcImVuXCIsIHsgc2VsZWN0OiBcIm9mZmljaWFsXCIgfSlcbiAgICAgICAgKVxuICAgICAgICAgIC5tYXAoYSA9PiBhKVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xuXG4gICAgICAgIHNldE5hbWVzKG5hbWVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBJbnB1dCA9IFwiaW5wdXRcIixcbiAgICBMYWJlbCA9IFwibGFiZWxcIixcbiAgICBCb3ggPSBcImRpdlwiLFxuICAgIFJlYWN0U2VsZWN0LFxuICB9ID0gc3R5bGVkQ29tcG9uZW50cyB8fCBmYWxzZTtcblxuICBjb25zdCBSU2VsZWN0ID0gUmVhY3RTZWxlY3QgfHwgU2VsZWN0O1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IG9wdGlvbiA9PiB7XG4gICAgY29uc3QgZXZlbnQgPVxuICAgICAgb3B0aW9uICYmIG9wdGlvbi50YXJnZXRcbiAgICAgICAgPyBvcHRpb25cbiAgICAgICAgOiB7XG4gICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRDb3VudHJpZXMoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPEJveFxuICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgKHZhbGlkYXRpb25NZXNzYWdlICYmIHRvdWNoZWQpIHx8IGVycm9yXG4gICAgICAgICAgPyBgZm9ybS1maWVsZCBlcnJvciAke2Nzc0NsYXNzfWBcbiAgICAgICAgICA6IGBmb3JtLWZpZWxkICR7Y3NzQ2xhc3N9YFxuICAgICAgfVxuICAgICAgc3R5bGU9e3sgZGlzcGxheTogaGlkZUZpZWxkID8gXCJub25lXCIgOiB1bmRlZmluZWQgfX1cbiAgICA+XG4gICAgICB7aW5wdXRzPy5tYXAoXG4gICAgICAgIChpbnB1dCwga2V5KSA9PlxuICAgICAgICAgICFpbnB1dC5pc0hpZGRlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dHlwZX0ga2V5PXtpbnB1dC5pZH0+XG4gICAgICAgICAgICAgIDxJbnB1dExhYmVsXG4gICAgICAgICAgICAgICAgZm9ybUlkPXtmb3JtSWR9XG4gICAgICAgICAgICAgICAgaWQ9e2lucHV0LmlkfVxuICAgICAgICAgICAgICAgIGxhYmVsPXtpbnB1dC5sYWJlbH1cbiAgICAgICAgICAgICAgICBsYWJlbFBsYWNlbWVudD17bGFiZWxQbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgaXNSZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgICAgICAgICAgICBzdHlsZWRDb21wb25lbnQ9e3N0eWxlZENvbXBvbmVudHN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtkZXNjcmlwdGlvblBsYWNlbWVudCA9PT0gXCJhYm92ZVwiICYmIGRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGRlc2NyaXB0aW9uIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2tleSA9PT0gNSAmJiBjb3VudHJ5TmFtZXMgPyAoXG4gICAgICAgICAgICAgICAgPFJTZWxlY3RcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHVuc2V0RXJyb3IoaW5wdXQuaWQpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQmx1cj17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRvdWNoZWQoaW5wdXQuaWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRGb2N1c0NsYXNzKHZhbHVlICE9PSBcIlwiKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBzZXRGb2N1c0NsYXNzKHRydWUpfVxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17Y291bnRyeU5hbWVzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbGFiZWw6IGl0ZW0sIHZhbHVlOiBpdGVtIH07XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Y291bnRyeU5hbWVzLm1hcChjb3VudHJ5ID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17Y291bnRyeX0+e2NvdW50cnl9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1JTZWxlY3Q+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBpZD17YGlucHV0XyR7Zm9ybUlkfV8ke2lucHV0LmlkfWB9XG4gICAgICAgICAgICAgICAgICBrZXk9e2lucHV0LmlkfVxuICAgICAgICAgICAgICAgICAgbmFtZT17Y3VzdG9tTmFtZSB8fCBgaW5wdXRfJHtpbnB1dC5pZH1gfVxuICAgICAgICAgICAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXshdmFsdWUgPyBcIlwiIDogdmFsdWVbaW5wdXQuaWRdfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2lucHV0LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPXttYXhMZW5ndGh9XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkLCBpbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHVuc2V0RXJyb3IoaW5wdXQuaWQpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQmx1cj17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRvdWNoZWQoaW5wdXQuaWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRGb2N1c0NsYXNzKHZhbHVlICE9PSBcIlwiKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBzZXRGb2N1c0NsYXNzKHRydWUpfVxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aW5wdXQubGFiZWx9XG4gICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXtgZXJyb3JfJHtmb3JtSWR9XyR7aW5wdXQuaWR9YH1cbiAgICAgICAgICAgICAgICAgIGFyaWEtaW52YWxpZD17KCEhdmFsaWRhdGlvbk1lc3NhZ2UgJiYgdG91Y2hlZCkgfHwgISFlcnJvcn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7ZGVzY3JpcHRpb25QbGFjZW1lbnQgIT09IFwiYWJvdmVcIiAmJiBkZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBkZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHsoKHZhbGlkYXRpb25NZXNzYWdlICYmIHRvdWNoZWQpIHx8IGVycm9yKSAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiIGlkPXtgZXJyb3JfJHtmb3JtSWR9XyR7aWR9YH0+XG4gICAgICAgICAgICAgICAgICB7dmFsaWRhdGlvbk1lc3NhZ2UgfHwgZXJyb3J9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgKX1cbiAgICA8L0JveD5cbiAgKTtcbn07XG4iXX0=
"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_react=_interopRequireWildcard(require("react")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel"));function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=(0,_getPrototypeOf2["default"])(a);if(b){var e=(0,_getPrototypeOf2["default"])(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function formatMoney(a){var b=Math.abs,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:".",e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:",";try{c=b(c),c=isNaN(c)?2:c;var f=0>a?"-":"",g=parseInt(a=b(+a||0).toFixed(c)).toString(),h=3<g.length?g.length%3:0;return f+(h?g.substr(0,h)+e:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1".concat(e))+(c?d+b(a-g).toFixed(c).slice(2):"")}catch(a){}}var Radio=function(a){function b(){var a;(0,_classCallCheck2["default"])(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(a),"state",{otherValue:!1,inputValue:!1}),(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(a),"onFocus",function(b){var c=b.target.value,d=a.state,e=d.otherValue,f=d.inputValue;e===c&&(c=""),a.otherRadio.click(),a.otherRadio.checked=!0,a.setState({inputValue:c})}),(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(a),"onBlur",function(b){var c=b.target.value;""==c.replace(" ","")?(a.setState({inputValue:a.state.otherValue}),a.otherRadio.checked=!1):a.setState({inputValue:formatMoney(c)})}),(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(a),"onChange",function(b){var c=b.target.value;a.setState({inputValue:c})}),(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(a),"setFocus",function(){a.otherChoise.focus()}),a}(0,_inherits2["default"])(b,a);var c=_createSuper(b);return(0,_createClass2["default"])(b,[{key:"render",value:function render(){var a=this,b=this.props,c=b.field,d=b.value,e=b.validationMessage,f=b.touched,g=b.setTouched,h=b.updateForm,i=b.hideField,j=b.styledComponents,k=b.error,l=b.unsetError,m=c.id,n=c.formId,o=c.type,p=c.label,q=c.cssClass,r=c.isRequired,s=c.choices,t=c.description,u=c.descriptionPlacement,v=c.labelPlacement,w=c.width,x=c.customName,y=c.otherPlaceholder,z=this.state.inputValue,A=j||!1,B=A.Radiogroup,C=void 0===B?"fieldset":B,D=A.Label,E=void 0===D?"legend":D,F=A.Box,G=void 0===F?"div":F,H=A.Input,I=void 0===H?"input":H;return _react["default"].createElement(G,{width:w,className:e&&f||k?"form-field error ".concat(q):"form-field ".concat(q),style:{display:i?"none":void 0}},_react["default"].createElement(C,{className:"radios"},_react["default"].createElement(_InputLabel["default"],{formId:n,id:m,label:p,labelPlacement:v,isRequired:r,styledComponent:j}),"above"===u&&t&&_react["default"].createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t}}),s.map(function(a,b){return _react["default"].createElement("div",{className:o,key:a.value},_react["default"].createElement("input",{id:"input_".concat(n,"_").concat(m,"_").concat(b),type:"radio",name:x||"input_".concat(m),value:a.value,checked:d===a.value,onChange:function onChange(a){h(a,c),g(m),l(m)}}),_react["default"].createElement("label",{htmlFor:"input_".concat(n,"_").concat(m,"_").concat(b)},a.text))}),c.enableOtherChoice&&_react["default"].createElement("div",{className:"".concat(o," other-choise")},_react["default"].createElement("input",{id:"input_".concat(n,"_").concat(m,"_").concat(s.length),type:"radio",name:"input_".concat(m),value:z,onChange:function onChange(a){h(a,c),g(m),l(m)},ref:function ref(b){return a.otherRadio=b},onFocus:function onFocus(b){return a.setFocus(b)}}),_react["default"].createElement(I,{id:"input_".concat(n,"_").concat(m,"_").concat(s.length,"_other"),type:"text",placeholder:y||"Other",value:z||"",onFocus:function onFocus(b){return a.onFocus(b)},onBlur:function onBlur(b){h(b,c),a.onBlur(b)},onChange:function onChange(b){a.onChange(b),l(m)},ref:function ref(b){return a.otherChoise=b}})),"above"!==u&&t&&_react["default"].createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t}})),(e&&f||k)&&_react["default"].createElement("span",{className:"error-message",id:"error_".concat(n,"_").concat(m)},e||k))}}]),b}(_react.Component),_default=Radio;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GaWVsZHMvUmFkaW8uanN4Il0sIm5hbWVzIjpbImZvcm1hdE1vbmV5IiwiYW1vdW50IiwiTWF0aCIsImFicyIsImRlY2ltYWxDb3VudCIsImRlY2ltYWwiLCJ0aG91c2FuZHMiLCJpc05hTiIsIm5lZ2F0aXZlU2lnbiIsImkiLCJwYXJzZUludCIsInRvRml4ZWQiLCJ0b1N0cmluZyIsImoiLCJsZW5ndGgiLCJzdWJzdHIiLCJyZXBsYWNlIiwic2xpY2UiLCJlIiwiUmFkaW8iLCJvdGhlclZhbHVlIiwiaW5wdXRWYWx1ZSIsInZhbHVlIiwidGFyZ2V0Iiwic3RhdGUiLCJvdGhlclJhZGlvIiwiY2xpY2siLCJjaGVja2VkIiwic2V0U3RhdGUiLCJvdGhlckNob2lzZSIsImZvY3VzIiwicHJvcHMiLCJmaWVsZCIsInZhbGlkYXRpb25NZXNzYWdlIiwidG91Y2hlZCIsInNldFRvdWNoZWQiLCJ1cGRhdGVGb3JtIiwiaGlkZUZpZWxkIiwic3R5bGVkQ29tcG9uZW50cyIsImVycm9yIiwidW5zZXRFcnJvciIsImlkIiwiZm9ybUlkIiwidHlwZSIsImxhYmVsIiwiY3NzQ2xhc3MiLCJpc1JlcXVpcmVkIiwiY2hvaWNlcyIsImRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb25QbGFjZW1lbnQiLCJsYWJlbFBsYWNlbWVudCIsIndpZHRoIiwiY3VzdG9tTmFtZSIsIm90aGVyUGxhY2Vob2xkZXIiLCJSYWRpb2dyb3VwIiwiTGFiZWwiLCJCb3giLCJJbnB1dCIsImRpc3BsYXkiLCJfX2h0bWwiLCJtYXAiLCJjaG9pY2UiLCJldmVudCIsInRleHQiLCJlbmFibGVPdGhlckNob2ljZSIsInNldEZvY3VzIiwib25Gb2N1cyIsIm9uQmx1ciIsIm9uQ2hhbmdlIiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiMmtEQUdBLFFBQVNBLENBQUFBLFdBQVQsQ0FBcUJDLENBQXJCLENBQStFLE9BRTVEQyxJQUFJLENBQUNDLEdBRnVELENBQWxEQyxDQUFrRCx3REFBbkMs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LENBQUksQ0FBQ2tELFFBQUwsQ0FBY2xELENBQWQsQ0FIYSxDQUlic0IsQ0FBVSxDQUFDQyxDQUFELENBQ1gsQ0FmSCxDQWdCRSxHQUFHLENBQUUsYUFBQXZCLENBQUMsUUFBSyxDQUFBLENBQUksQ0FBQ1csV0FBTCxDQUFtQlgsQ0FBeEIsQ0FoQlIsRUFkRixDQW5DSixDQXFFNEIsT0FBekIsR0FBQStCLENBQW9CLEVBQWdCRCxDQUFwQyxFQUNDLHVDQUNFLFNBQVMsQ0FBQyxhQURaLENBRUUsdUJBQXVCLENBQUUsQ0FBRVcsTUFBTSxDQUFFWCxDQUFWLENBRjNCLEVBdEVKLENBVEYsQ0FxRkcsQ0FBRWYsQ0FBaUIsRUFBSUMsQ0FBdEIsRUFBa0NLLENBQW5DLEdBQ0Msd0NBQU0sU0FBUyxDQUFDLGVBQWhCLENBQWdDLEVBQUUsaUJBQVdHLENBQVgsYUFBcUJELENBQXJCLENBQWxDLEVBQ0dSLENBQWlCLEVBQUlNLENBRHhCLENBdEZKLENBNEZILEMsT0F4S2lCOEIsZ0IsV0EyS0xsRCxLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IElucHV0TGFiZWwgZnJvbSBcIi4uL0Zvcm1FbGVtZW50cy9JbnB1dExhYmVsXCI7XG5cbmZ1bmN0aW9uIGZvcm1hdE1vbmV5KGFtb3VudCwgZGVjaW1hbENvdW50ID0gMiwgZGVjaW1hbCA9IFwiLlwiLCB0aG91c2FuZHMgPSBcIixcIikge1xuICB0cnkge1xuICAgIGRlY2ltYWxDb3VudCA9IE1hdGguYWJzKGRlY2ltYWxDb3VudCk7XG4gICAgZGVjaW1hbENvdW50ID0gaXNOYU4oZGVjaW1hbENvdW50KSA/IDIgOiBkZWNpbWFsQ291bnQ7XG5cbiAgICBjb25zdCBuZWdhdGl2ZVNpZ24gPSBhbW91bnQgPCAwID8gXCItXCIgOiBcIlwiO1xuXG4gICAgY29uc3QgaSA9IHBhcnNlSW50KFxuICAgICAgKGFtb3VudCA9IE1hdGguYWJzKE51bWJlcihhbW91bnQpIHx8IDApLnRvRml4ZWQoZGVjaW1hbENvdW50KSlcbiAgICApLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgaiA9IGkubGVuZ3RoID4gMyA/IGkubGVuZ3RoICUgMyA6IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgbmVnYXRpdmVTaWduICtcbiAgICAgIChqID8gaS5zdWJzdHIoMCwgaikgKyB0aG91c2FuZHMgOiBcIlwiKSArXG4gICAgICBpLnN1YnN0cihqKS5yZXBsYWNlKC8oXFxkezN9KSg/PVxcZCkvZywgYCQxJHt0aG91c2FuZHN9YCkgK1xuICAgICAgKGRlY2ltYWxDb3VudFxuICAgICAgICA/IGRlY2ltYWwgK1xuICAgICAgICAgIE1hdGguYWJzKGFtb3VudCAtIGkpXG4gICAgICAgICAgICAudG9GaXhlZChkZWNpbWFsQ291bnQpXG4gICAgICAgICAgICAuc2xpY2UoMilcbiAgICAgICAgOiBcIlwiKVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmNsYXNzIFJhZGlvIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGUgPSB7XG4gICAgb3RoZXJWYWx1ZTogZmFsc2UsXG4gICAgaW5wdXRWYWx1ZTogZmFsc2UsXG4gIH07XG5cbiAgb25Gb2N1cyA9IGUgPT4ge1xuICAgIGxldCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICBjb25zdCB7IG90aGVyVmFsdWUsIGlucHV0VmFsdWUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAob3RoZXJWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgdGhpcy5vdGhlclJhZGlvLmNsaWNrKCk7XG4gICAgdGhpcy5vdGhlclJhZGlvLmNoZWNrZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiB2YWx1ZSB9KTtcbiAgfTtcblxuICBvbkJsdXIgPSBlID0+IHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICBpZiAodmFsdWUucmVwbGFjZShcIiBcIiwgXCJcIikgPT0gXCJcIikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlucHV0VmFsdWU6IHRoaXMuc3RhdGUub3RoZXJWYWx1ZSB9KTtcbiAgICAgIHRoaXMub3RoZXJSYWRpby5jaGVja2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiBmb3JtYXRNb25leSh2YWx1ZSkgfSk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2hhbmdlID0gZSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gZS50YXJnZXQ7XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgaW5wdXRWYWx1ZTogdmFsdWUgfSk7XG4gIH07XG5cbiAgc2V0Rm9jdXMgPSBlID0+IHtcbiAgICB0aGlzLm90aGVyQ2hvaXNlLmZvY3VzKCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpZWxkLFxuICAgICAgdmFsdWUsXG4gICAgICB2YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgIHRvdWNoZWQsXG4gICAgICBzZXRUb3VjaGVkLFxuICAgICAgdXBkYXRlRm9ybSxcbiAgICAgIGhpZGVGaWVsZCxcbiAgICAgIHN0eWxlZENvbXBvbmVudHMsXG4gICAgICBlcnJvcixcbiAgICAgIHVuc2V0RXJyb3IsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBmb3JtSWQsXG4gICAgICB0eXBlLFxuICAgICAgbGFiZWwsXG4gICAgICBjc3NDbGFzcyxcbiAgICAgIGlzUmVxdWlyZWQsXG4gICAgICBjaG9pY2VzLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBkZXNjcmlwdGlvblBsYWNlbWVudCxcbiAgICAgIGxhYmVsUGxhY2VtZW50LFxuICAgICAgd2lkdGgsXG4gICAgICBjdXN0b21OYW1lLFxuICAgICAgb3RoZXJQbGFjZWhvbGRlcixcbiAgICB9ID0gZmllbGQ7XG4gICAgY29uc3QgeyBpbnB1dFZhbHVlIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3Qge1xuICAgICAgUmFkaW9ncm91cCA9IFwiZmllbGRzZXRcIixcbiAgICAgIExhYmVsID0gXCJsZWdlbmRcIixcbiAgICAgIEJveCA9IFwiZGl2XCIsXG4gICAgICBJbnB1dCA9IFwiaW5wdXRcIixcbiAgICB9ID0gc3R5bGVkQ29tcG9uZW50cyB8fCBmYWxzZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Qm94XG4gICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAodmFsaWRhdGlvbk1lc3NhZ2UgJiYgdG91Y2hlZCkgfHwgZXJyb3JcbiAgICAgICAgICAgID8gYGZvcm0tZmllbGQgZXJyb3IgJHtjc3NDbGFzc31gXG4gICAgICAgICAgICA6IGBmb3JtLWZpZWxkICR7Y3NzQ2xhc3N9YFxuICAgICAgICB9XG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IGhpZGVGaWVsZCA/IFwibm9uZVwiIDogdW5kZWZpbmVkIH19XG4gICAgICA+XG4gICAgICAgIDxSYWRpb2dyb3VwIGNsYXNzTmFtZT1cInJhZGlvc1wiPlxuICAgICAgICAgIDxJbnB1dExhYmVsXG4gICAgICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgICAgIGxhYmVsUGxhY2VtZW50PXtsYWJlbFBsYWNlbWVudH1cbiAgICAgICAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICAgICAgICBzdHlsZWRDb21wb25lbnQ9e3N0eWxlZENvbXBvbmVudHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7ZGVzY3JpcHRpb25QbGFjZW1lbnQgPT09IFwiYWJvdmVcIiAmJiBkZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBkZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtjaG9pY2VzLm1hcCgoY2hvaWNlLCBpKSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dHlwZX0ga2V5PXtjaG9pY2UudmFsdWV9PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBpZD17YGlucHV0XyR7Zm9ybUlkfV8ke2lkfV8ke2l9YH1cbiAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgIG5hbWU9e2N1c3RvbU5hbWUgfHwgYGlucHV0XyR7aWR9YH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17Y2hvaWNlLnZhbHVlfVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ZhbHVlID09PSBjaG9pY2UudmFsdWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgIHNldFRvdWNoZWQoaWQpO1xuICAgICAgICAgICAgICAgICAgdW5zZXRFcnJvcihpZCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2BpbnB1dF8ke2Zvcm1JZH1fJHtpZH1fJHtpfWB9PlxuICAgICAgICAgICAgICAgIHtjaG9pY2UudGV4dH1cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICAgIHtmaWVsZC5lbmFibGVPdGhlckNob2ljZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7dHlwZX0gb3RoZXItY2hvaXNlYH0+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPXtgaW5wdXRfJHtmb3JtSWR9XyR7aWR9XyR7Y2hvaWNlcy5sZW5ndGh9YH1cbiAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgIG5hbWU9e2BpbnB1dF8ke2lkfWB9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0VmFsdWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgIHNldFRvdWNoZWQoaWQpO1xuICAgICAgICAgICAgICAgICAgdW5zZXRFcnJvcihpZCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICByZWY9e2UgPT4gKHRoaXMub3RoZXJSYWRpbyA9IGUpfVxuICAgICAgICAgICAgICAgIG9uRm9jdXM9e2UgPT4gdGhpcy5zZXRGb2N1cyhlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgaWQ9e2BpbnB1dF8ke2Zvcm1JZH1fJHtpZH1fJHtjaG9pY2VzLmxlbmd0aH1fb3RoZXJgfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17b3RoZXJQbGFjZWhvbGRlciB8fCBcIk90aGVyXCJ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0VmFsdWUgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICBvbkZvY3VzPXtlID0+IHRoaXMub25Gb2N1cyhlKX1cbiAgICAgICAgICAgICAgICBvbkJsdXI9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlRm9ybShlLCBmaWVsZCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLm9uQmx1cihlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZUZvcm0oZSwgZmllbGQpO1xuICAgICAgICAgICAgICAgICAgLy8gc2V0VG91Y2hlZChpZCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGUpO1xuICAgICAgICAgICAgICAgICAgdW5zZXRFcnJvcihpZCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICByZWY9e2UgPT4gKHRoaXMub3RoZXJDaG9pc2UgPSBlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2Rlc2NyaXB0aW9uUGxhY2VtZW50ICE9PSBcImFib3ZlXCIgJiYgZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogZGVzY3JpcHRpb24gfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9SYWRpb2dyb3VwPlxuICAgICAgICB7KCh2YWxpZGF0aW9uTWVzc2FnZSAmJiB0b3VjaGVkKSB8fCBlcnJvcikgJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIiBpZD17YGVycm9yXyR7Zm9ybUlkfV8ke2lkfWB9PlxuICAgICAgICAgICAge3ZhbGlkYXRpb25NZXNzYWdlIHx8IGVycm9yfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvQm94PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkaW87XG4iXX0=